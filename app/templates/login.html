{% extends 'base.html' %}

<!-- page -->
{% set active_page = "login" %}
{% block title %}
Iniciar sessió
{% endblock %}

<!-- css -->
{% block css %}
<style>
  body {
    padding-top: 6.5rem;
  }
</style>
{% endblock %}

<!-- content -->
{% block content %}
<div class="container">
  <!-- title -->
  <div class="page-header">
    <h2>Iniciar sessió</h2>
  </div>
  <hr>
  <div class="row">
    <!-- form -->
    <div class="col-lg-6 col-md-6 col-sm-12">
      <form method="POST" action="{{ url_for('login') }}">
        {{ form.hidden_tag() }}
        <div class="form-group">
          {{ form.email_username.label }}
          {{ form.email_username(class_="form-control") }}
        </div>
        <div class="form-group">
          {{ form.password.label }}
          {{ form.password(class_="form-control") }}
        </div>
        <div class="form-group">
          <div class="form-check">
            <label class="form-check-label">
              {{ form.remember(class_="form-check-input") }}
              {{ form.remember.label }}
            </label>
          </div>
        </div>
        <button type="submit" class="btn btn-primary">Iniciar sessió</button>
      </form>
      <br>
    </div>
    <!-- errors -->
    <div class="col-lg-6 col-md-6 col-sm-12">
      {% if form.errors %}
      <div class="alert alert-danger">
        <h4 class="alert-heading">No s'han pogut enviar les dades, fes una revisió i torna-ho a intentar</h4>
        · Combinació de correu/usuari i contrasenya errònia
      </div>
      {% else %}
      {% with messages = get_flashed_messages() %}
        {% if messages %}
        <div class="alert alert-danger">
          <h4 class="alert-heading">No s'han pogut enviar les dades, fes una revisió i torna-ho a intentar</h4>
          {% for message in messages %}
          · {{ message }} <br>
          {% endfor %}
        </div>
        {% endif %}
      {% endwith %}
      {% endif %}
    </div>
  </div>
  <hr>
</div>
{% endblock %}
